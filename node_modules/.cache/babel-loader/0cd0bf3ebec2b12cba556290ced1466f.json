{"ast":null,"code":"var _jsxFileName = \"/Users/cocoa/Documents/GitHub/MovieWeb/src/routes/Home.js\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport styles from \"./Home.module.css\";\nimport Slide from \"../components/Slide\";\nimport navList from \"../atom/NavList\";\nimport axios from \"axios\";\nimport Loading from \"../components/Loading\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Home() {\n  _s();\n  /* API 받아오기 */\n  const [movieContents, setMovieContents] = useState([]);\n  useEffect(() => {\n    /* map으로 navList의 목록을 api로 받아온다 */\n    const request = navList.map(_ref => {\n      let {\n        title,\n        path\n      } = _ref;\n      return axios.get('https://yts.mx/api/v2/list_movies.json?' + path, {\n        params: {\n          limit: 10,\n          sort_by: 'year',\n          limit: 20\n        }\n      });\n    });\n    axios.all(request).then(axios.spread(async function () {\n      for (var _len = arguments.length, response = new Array(_len), _key = 0; _key < _len; _key++) {\n        response[_key] = arguments[_key];\n      }\n      const data = await response.map(res => {\n        if (res.status === 200) {\n          return res.data.data.movies;\n        }\n      });\n      console.log(data);\n      setMovieContents(data);\n    }));\n  }, []);\n\n  /* 화면 그리기 */\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.container,\n    children: navList.map((slide, idx) => {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.slide__box,\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: styles.title,\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            to: `/page/${slide.path}/1`,\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              class: \"fas fa-external-link-alt\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 50,\n              columnNumber: 23\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [slide.title, \" Movie\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 51,\n              columnNumber: 23\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 19\n        }, this), movieContents && movieContents.length === 0 ? /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 23\n        }, this) : /*#__PURE__*/_jsxDEV(Slide, {\n          movieContents: movieContents[idx]\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 23\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 15\n      }, this);\n    })\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 9\n  }, this);\n}\n_s(Home, \"D8Wpe6u5eRzlkNCXA+Nc73EJkcc=\");\n_c = Home;\nexport default Home;\nvar _c;\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"names":["useEffect","useState","Link","styles","Slide","navList","axios","Loading","Home","movieContents","setMovieContents","request","map","title","path","get","params","limit","sort_by","all","then","spread","response","data","res","status","movies","console","log","container","slide","idx","slide__box","length"],"sources":["/Users/cocoa/Documents/GitHub/MovieWeb/src/routes/Home.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport {Link} from \"react-router-dom\";\nimport styles from \"./Home.module.css\";\nimport Slide from \"../components/Slide\";\nimport navList from \"../atom/NavList\";\nimport axios from \"axios\";\nimport Loading from \"../components/Loading\";\n\nfunction Home(){\n    \n    /* API 받아오기 */\n    const [ movieContents, setMovieContents ] = useState([]);\n  \n    useEffect(() => {\n\n        /* map으로 navList의 목록을 api로 받아온다 */\n        const request = navList.map(({title, path}) => {\n            return axios.get('https://yts.mx/api/v2/list_movies.json?' + path, {\n                params: {\n                  limit: 10,\n                  sort_by: 'year',\n                  limit: 20,\n                }\n            })\n        })\n\n        axios.all(request)\n        .then(axios.spread(async (...response) => {\n            const data = await response.map(res => {\n                if(res.status === 200){\n                    return res.data.data.movies;\n                }\n            })\n\n            console.log(data);\n            setMovieContents(data);\n        }))\n\n    }, []) \n\n    \n    /* 화면 그리기 */\n    return (\n        <div className={styles.container}>\n          {navList.map((slide, idx) => {\n            return (\n              <div className={styles.slide__box}>\n                  <h3 className={styles.title}>\n                    <Link to={`/page/${slide.path}/1`}>\n                      <i class=\"fas fa-external-link-alt\"></i>\n                      <span>{slide.title} Movie</span>\n                    </Link>\n                  </h3>\n                  { movieContents && movieContents.length === 0 ? (\n                      <Loading />\n                    ) : (\n                      <Slide movieContents={movieContents[idx]} />\n                    )\n                  }\n              </div>\n            )\n          })}\n          \n        </div>\n    );\n}\n\nexport default Home;\n"],"mappings":";;AAAA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC3C,SAAQC,IAAI,QAAO,kBAAkB;AACrC,OAAOC,MAAM,MAAM,mBAAmB;AACtC,OAAOC,KAAK,MAAM,qBAAqB;AACvC,OAAOC,OAAO,MAAM,iBAAiB;AACrC,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAOC,OAAO,MAAM,uBAAuB;AAAC;AAE5C,SAASC,IAAI,GAAE;EAAA;EAEX;EACA,MAAM,CAAEC,aAAa,EAAEC,gBAAgB,CAAE,GAAGT,QAAQ,CAAC,EAAE,CAAC;EAExDD,SAAS,CAAC,MAAM;IAEZ;IACA,MAAMW,OAAO,GAAGN,OAAO,CAACO,GAAG,CAAC,QAAmB;MAAA,IAAlB;QAACC,KAAK;QAAEC;MAAI,CAAC;MACtC,OAAOR,KAAK,CAACS,GAAG,CAAC,yCAAyC,GAAGD,IAAI,EAAE;QAC/DE,MAAM,EAAE;UACNC,KAAK,EAAE,EAAE;UACTC,OAAO,EAAE,MAAM;UACfD,KAAK,EAAE;QACT;MACJ,CAAC,CAAC;IACN,CAAC,CAAC;IAEFX,KAAK,CAACa,GAAG,CAACR,OAAO,CAAC,CACjBS,IAAI,CAACd,KAAK,CAACe,MAAM,CAAC,kBAAuB;MAAA,kCAAbC,QAAQ;QAARA,QAAQ;MAAA;MACjC,MAAMC,IAAI,GAAG,MAAMD,QAAQ,CAACV,GAAG,CAACY,GAAG,IAAI;QACnC,IAAGA,GAAG,CAACC,MAAM,KAAK,GAAG,EAAC;UAClB,OAAOD,GAAG,CAACD,IAAI,CAACA,IAAI,CAACG,MAAM;QAC/B;MACJ,CAAC,CAAC;MAEFC,OAAO,CAACC,GAAG,CAACL,IAAI,CAAC;MACjBb,gBAAgB,CAACa,IAAI,CAAC;IAC1B,CAAC,CAAC,CAAC;EAEP,CAAC,EAAE,EAAE,CAAC;;EAGN;EACA,oBACI;IAAK,SAAS,EAAEpB,MAAM,CAAC0B,SAAU;IAAA,UAC9BxB,OAAO,CAACO,GAAG,CAAC,CAACkB,KAAK,EAAEC,GAAG,KAAK;MAC3B,oBACE;QAAK,SAAS,EAAE5B,MAAM,CAAC6B,UAAW;QAAA,wBAC9B;UAAI,SAAS,EAAE7B,MAAM,CAACU,KAAM;UAAA,uBAC1B,QAAC,IAAI;YAAC,EAAE,EAAG,SAAQiB,KAAK,CAAChB,IAAK,IAAI;YAAA,wBAChC;cAAG,KAAK,EAAC;YAA0B;cAAA;cAAA;cAAA;YAAA,QAAK,eACxC;cAAA,WAAOgB,KAAK,CAACjB,KAAK;YAAA;cAAA;cAAA;cAAA;YAAA,QAAc;UAAA;YAAA;YAAA;YAAA;UAAA;QAC3B;UAAA;UAAA;UAAA;QAAA,QACJ,EACHJ,aAAa,IAAIA,aAAa,CAACwB,MAAM,KAAK,CAAC,gBACzC,QAAC,OAAO;UAAA;UAAA;UAAA;QAAA,QAAG,gBAEX,QAAC,KAAK;UAAC,aAAa,EAAExB,aAAa,CAACsB,GAAG;QAAE;UAAA;UAAA;UAAA;QAAA,QAC1C;MAAA;QAAA;QAAA;QAAA;MAAA,QAED;IAEV,CAAC;EAAC;IAAA;IAAA;IAAA;EAAA,QAEE;AAEd;AAAC,GAzDQvB,IAAI;AAAA,KAAJA,IAAI;AA2Db,eAAeA,IAAI;AAAC;AAAA"},"metadata":{},"sourceType":"module"}
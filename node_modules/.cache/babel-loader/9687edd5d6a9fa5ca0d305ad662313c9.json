{"ast":null,"code":"import _regeneratorRuntime from\"/Users/cocoa/Documents/GitHub/react-study/Movie/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/cocoa/Documents/GitHub/react-study/Movie/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/cocoa/Documents/GitHub/react-study/Movie/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from\"react\";import{useParams}from\"react-router-dom\";import styles from\"../css/routes/Detail.module.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Detail(){var _useParams=useParams(),id=_useParams.id;var _useState=useState(true),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],setLoading=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),movie=_useState4[0],setMovie=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),genres=_useState6[0],setGenres=_useState6[1];/* API 받아오기 */var getMovie=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var json;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"https://yts.mx/api/v2/movie_details.json?movie_id=\".concat(id));case 2:_context.next=4;return _context.sent.json();case 4:json=_context.sent;console.log(json);setMovie(json.data.movie);setGenres(json.data.movie.genres);setLoading(false);case 9:case\"end\":return _context.stop();}}},_callee);}));return function getMovie(){return _ref.apply(this,arguments);};}();useEffect(function(){if(id!==\"\"&&id.length>1){getMovie();}},[id]);return/*#__PURE__*/_jsx(\"div\",{className:styles.container,children:loading?/*#__PURE__*/_jsx(\"div\",{className:styles.loader,children:/*#__PURE__*/_jsx(\"span\",{children:\"Loading...\"})}):/*#__PURE__*/_jsxs(\"div\",{className:styles.movie,children:[/*#__PURE__*/_jsx(\"img\",{src:movie.background_image_original,alt:movie.background_image_original,className:styles.movie__bg_img}),/*#__PURE__*/_jsx(\"div\",{className:styles.movie__header,children:/*#__PURE__*/_jsxs(\"div\",{className:styles.movie__big__title,children:[/*#__PURE__*/_jsx(\"img\",{src:movie.medium_cover_image,alt:movie.medium_cover_image,className:styles.movie__img}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h1\",{className:styles.movie__title,children:[\" \",movie.title,\" \"]}),/*#__PURE__*/_jsxs(\"div\",{className:styles.movie__year,children:[/*#__PURE__*/_jsxs(\"span\",{children:[movie.year,\"\\uB144 \\u2022 \"]}),/*#__PURE__*/_jsxs(\"span\",{children:[movie.runtime,\"\\uBD84\"]})]})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:styles.movie__rate__row,children:[/*#__PURE__*/_jsxs(\"div\",{className:styles.movie__rate,children:[\"rate: \",movie.rating,\" \"]}),/*#__PURE__*/_jsxs(\"div\",{className:styles.movie__rate,children:[\"downloed: \",movie.download_count]}),/*#__PURE__*/_jsxs(\"div\",{className:styles.movie__rate,children:[\"like: \",movie.like_count,\" \"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:styles.movie__content,children:[/*#__PURE__*/_jsx(\"div\",{children:movie.description_full}),/*#__PURE__*/_jsx(\"div\",{className:styles.movie__genres,children:genres.map(function(g){return/*#__PURE__*/_jsxs(\"span\",{children:[g,\" \"]},g);})})]})]})});}export default Detail;","map":{"version":3,"names":["useEffect","useState","useParams","styles","Detail","id","loading","setLoading","movie","setMovie","genres","setGenres","getMovie","fetch","json","console","log","data","length","container","loader","background_image_original","movie__bg_img","movie__header","movie__big__title","medium_cover_image","movie__img","movie__title","title","movie__year","year","runtime","movie__rate__row","movie__rate","rating","download_count","like_count","movie__content","description_full","movie__genres","map","g"],"sources":["/Users/cocoa/Documents/GitHub/react-study/Movie/src/routes/Detail.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport styles from \"../css/routes/Detail.module.css\"\n\nfunction Detail(){\n    const {id} = useParams();\n    const [loading, setLoading] = useState(true);\n    const [movie, setMovie] = useState([]);\n    const [genres, setGenres] = useState([])\n\n\n    /* API 받아오기 */\n    const getMovie = async() => {\n        const json = await (\n            await fetch(`https://yts.mx/api/v2/movie_details.json?movie_id=${id}`)\n        ).json();\n\n        console.log(json);\n        setMovie(json.data.movie);\n        setGenres(json.data.movie.genres);\n        setLoading(false);\n    }\n\n    useEffect(() => {\n        if (id !== \"\" && id.length > 1) {\n            getMovie();\n        }\n    }, [id])\n\n    return (\n        <div className={styles.container}>\n            {loading ? (\n                <div className={styles.loader}>\n                    <span>Loading...</span>\n                </div>\n            ) : (\n                <div className={styles.movie}>\n                    <img\n                    src={movie.background_image_original}\n                    alt={movie.background_image_original}\n                    className={styles.movie__bg_img}\n                    />\n                    <div className={styles.movie__header}>\n                        <div className={styles.movie__big__title}>\n                            <img\n                                src={movie.medium_cover_image}\n                                alt={movie.medium_cover_image}\n                                className={styles.movie__img}\n                            />\n                            <div>\n                                <h1 className={styles.movie__title}> {movie.title} </h1>\n                                <div className={styles.movie__year}>\n                                    <span>{movie.year}년 • </span>\n                                    <span>{movie.runtime}분</span>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div className={styles.movie__rate__row}>\n                        <div className={styles.movie__rate}>rate: {movie.rating} </div>\n                        <div className={styles.movie__rate}>\n                            downloed: {movie.download_count}\n                        </div>\n                        <div className={styles.movie__rate}>\n                            like: {movie.like_count}{\" \"}\n                        </div>\n                    </div>\n\n                    <div className={styles.movie__content}>\n                        <div>{movie.description_full}</div>\n                        <div className={styles.movie__genres}>\n                            {genres.map((g) => (\n                                <span key={g}>{g} </span>\n                            ))}\n                        </div>\n                    </div>\n                </div>\n            )}\n        </div>\n    );\n}\n\nexport default Detail;\n"],"mappings":"+ZAAA,OAASA,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC3C,OAASC,SAAS,KAAQ,kBAAkB,CAC5C,MAAOC,OAAM,KAAM,iCAAiC,yFAEpD,QAASC,OAAM,EAAE,CACb,eAAaF,SAAS,EAAE,CAAjBG,EAAE,YAAFA,EAAE,CACT,cAA8BJ,QAAQ,CAAC,IAAI,CAAC,wCAArCK,OAAO,eAAEC,UAAU,eAC1B,eAA0BN,QAAQ,CAAC,EAAE,CAAC,yCAA/BO,KAAK,eAAEC,QAAQ,eACtB,eAA4BR,QAAQ,CAAC,EAAE,CAAC,yCAAjCS,MAAM,eAAEC,SAAS,eAGxB,cACA,GAAMC,SAAQ,4FAAG,oKAEHC,MAAK,6DAAsDR,EAAE,EAAG,6CACxES,IAAI,UAFAA,IAAI,eAIVC,OAAO,CAACC,GAAG,CAACF,IAAI,CAAC,CACjBL,QAAQ,CAACK,IAAI,CAACG,IAAI,CAACT,KAAK,CAAC,CACzBG,SAAS,CAACG,IAAI,CAACG,IAAI,CAACT,KAAK,CAACE,MAAM,CAAC,CACjCH,UAAU,CAAC,KAAK,CAAC,CAAC,sDACrB,kBATKK,SAAQ,0CASb,CAEDZ,SAAS,CAAC,UAAM,CACZ,GAAIK,EAAE,GAAK,EAAE,EAAIA,EAAE,CAACa,MAAM,CAAG,CAAC,CAAE,CAC5BN,QAAQ,EAAE,CACd,CACJ,CAAC,CAAE,CAACP,EAAE,CAAC,CAAC,CAER,mBACI,YAAK,SAAS,CAAEF,MAAM,CAACgB,SAAU,UAC5Bb,OAAO,cACJ,YAAK,SAAS,CAAEH,MAAM,CAACiB,MAAO,uBAC1B,oCAAuB,EACrB,cAEN,aAAK,SAAS,CAAEjB,MAAM,CAACK,KAAM,wBACzB,YACA,GAAG,CAAEA,KAAK,CAACa,yBAA0B,CACrC,GAAG,CAAEb,KAAK,CAACa,yBAA0B,CACrC,SAAS,CAAElB,MAAM,CAACmB,aAAc,EAC9B,cACF,YAAK,SAAS,CAAEnB,MAAM,CAACoB,aAAc,uBACjC,aAAK,SAAS,CAAEpB,MAAM,CAACqB,iBAAkB,wBACrC,YACI,GAAG,CAAEhB,KAAK,CAACiB,kBAAmB,CAC9B,GAAG,CAAEjB,KAAK,CAACiB,kBAAmB,CAC9B,SAAS,CAAEtB,MAAM,CAACuB,UAAW,EAC/B,cACF,oCACI,YAAI,SAAS,CAAEvB,MAAM,CAACwB,YAAa,eAAGnB,KAAK,CAACoB,KAAK,OAAO,cACxD,aAAK,SAAS,CAAEzB,MAAM,CAAC0B,WAAY,wBAC/B,wBAAOrB,KAAK,CAACsB,IAAI,oBAAY,cAC7B,wBAAOtB,KAAK,CAACuB,OAAO,YAAS,GAC3B,GACJ,GACJ,EACJ,cAEN,aAAK,SAAS,CAAE5B,MAAM,CAAC6B,gBAAiB,wBACpC,aAAK,SAAS,CAAE7B,MAAM,CAAC8B,WAAY,oBAAQzB,KAAK,CAAC0B,MAAM,OAAQ,cAC/D,aAAK,SAAS,CAAE/B,MAAM,CAAC8B,WAAY,wBACpBzB,KAAK,CAAC2B,cAAc,GAC7B,cACN,aAAK,SAAS,CAAEhC,MAAM,CAAC8B,WAAY,oBACxBzB,KAAK,CAAC4B,UAAU,CAAE,GAAG,GAC1B,GACJ,cAEN,aAAK,SAAS,CAAEjC,MAAM,CAACkC,cAAe,wBAClC,qBAAM7B,KAAK,CAAC8B,gBAAgB,EAAO,cACnC,YAAK,SAAS,CAAEnC,MAAM,CAACoC,aAAc,UAChC7B,MAAM,CAAC8B,GAAG,CAAC,SAACC,CAAC,qBACV,wBAAeA,CAAC,OAALA,CAAC,CAAa,EAC5B,CAAC,EACA,GACJ,GAEb,EACC,CAEd,CAEA,cAAerC,OAAM"},"metadata":{},"sourceType":"module"}